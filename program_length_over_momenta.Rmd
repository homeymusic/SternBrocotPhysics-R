---
title: "Stern-Brocot Physics: Program Length Complexity Evolution"
output: 
  github_document:
    toc: true
---

# Complexity Evolution Analysis

This report visualizes how the algorithmic complexity (Program Length) scales as a function of Normalized Momentum ($P$). By analyzing the Mean, Median, and Standard Deviation (Spread), we can identify phase transitions and scaling laws inherent in the Stern-Brocot search space.

---

```{r setup, echo=FALSE, message=FALSE, warning=FALSE}
library(data.table)
library(ggplot2)

# --- 1. Configuration ---
base_dir     <- "/Volumes/SanDisk4TB/SternBrocot-data"
summary_file <- file.path(base_dir, "04_program_length_summary.csv.gz")

# --- 2. Load Aggregated Data ---
if (!file.exists(summary_file)) {
  stop("Summary file not found. Please run Script 04 first to aggregate the statistics.")
}

dt <- fread(summary_file)
```

## Program Length Scaling

The plot below illustrates the "Action Canvas" thickening. The **Mean** and **Median** tracks show the central tendency of the search depth, while the **Ribbon** indicates the statistical spread (uncertainty) of the program lengths.



```{r plot-evolution, echo=FALSE, fig.width=12, fig.height=8}
ggplot(dt, aes(x = normalized_momentum)) +
  # 1. The Spread (±1 Standard Deviation)
  geom_ribbon(aes(ymin = lower, ymax = upper), 
              fill = "steelblue", alpha = 0.2) +
  
  # 2. The Mean Complexity (Solid Line)
  geom_line(aes(y = mean_len, color = "Mean Complexity"), 
            linewidth = 1.2) +
  
  # 3. The Median Complexity (Dashed Line)
  geom_line(aes(y = median_len, color = "Median Complexity"), 
            linewidth = 1, linetype = "dashed") +
  
  # Styling
  scale_color_manual(values = c(
    "Mean Complexity" = "steelblue4", 
    "Median Complexity" = "firebrick3"
  )) +
  theme_minimal(base_size = 14) +
  labs(
    title = "Algorithmic Complexity Evolution",
    subtitle = "Shaded region represents ±1 Standard Deviation of Program Length",
    x = "Normalized Momentum (P)",
    y = "Program Length (Bits)",
    color = "Metric"
  ) +
  theme(
    legend.position = "bottom",
    plot.title = element_text(face = "bold", family = "mono", size = 18),
    panel.grid.minor = element_blank()
  )
```

---

## Statistical Insights

### 1. Scaling Law
By observing the curvature of the Mean Complexity, we can determine the search efficiency:
* **Linear Growth**: Suggests a constant complexity cost per momentum unit.
* **Logarithmic Growth**: Suggests an extremely efficient search where complexity plateaus.
* **Quadratic Growth**: Indicates a significant "complexity explosion" at high energy levels.

### 2. Skewness (Mean vs. Median)
* If the **Mean** (Blue) stays above the **Median** (Red), the distribution is "Right-Skewed," meaning a small number of paths are significantly more complex than the average search.
* If they overlap, the complexity distribution is symmetric and stable.

### 3. Turbulence (Ribbon Width)
A widening of the **blue ribbon** indicates that the Stern-Brocot tree is branching more aggressively, creating a wider variety of microstate depths for that specific momentum value.

---
